{"ast":null,"code":"// src/features/user/UserLoginForm.js\nimport{useState}from'react';import{useSelector,useDispatch}from'react-redux';import{setCurrentUser,selectCurrentUser}from'./userSlice';import{Modal,ModalHeader,ModalBody,FormGroup,Label,Button}from'reactstrap';import{Formik,Field,Form,ErrorMessage}from'formik';import defaultAvatar from'../../app/assets/img/unicorn.png';import{validateUserLoginForm}from'../../utils/validateUserLoginForm';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UserLoginForm=()=>{const[loginModalOpen,setLoginModalOpen]=useState(false);const currentUser=useSelector(selectCurrentUser);const dispatch=useDispatch();const handleLogin=values=>{const newUser={id:Date.now(),avatar:defaultAvatar,username:values.username,password:values.password};dispatch(setCurrentUser(newUser));setLoginModalOpen(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"navbar-text ml-auto\",children:currentUser?/*#__PURE__*/_jsx(\"div\",{style:{width:'4rem',height:'4rem'},children:/*#__PURE__*/_jsx(\"img\",{src:currentUser.avatar,alt:\"user\",style:{width:'100%',height:'100%'}})}):/*#__PURE__*/_jsxs(Button,{outline:true,onClick:()=>setLoginModalOpen(true),style:{color:'white',border:'1px solid white'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-sign-in fa-lg\"}),\" Login\"]})}),/*#__PURE__*/_jsxs(Modal,{isOpen:loginModalOpen,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:()=>setLoginModalOpen(false),children:\"Login\"}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsx(Formik,{initialValues:{username:'',password:''},validate:validateUserLoginForm,onSubmit:handleLogin,children:_ref=>{let{isSubmitting,isValid}=_ref;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(Field,{id:\"username\",name:\"username\",placeholder:\"Username\",className:\"form-control\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"username\",children:msg=>/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:msg})})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Field,{id:\"password\",name:\"password\",placeholder:\"Password\",className:\"form-control\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",children:msg=>/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:msg})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",disabled:isSubmitting||!isValid,children:\"Login\"})]});}})})]})]});};export default UserLoginForm;","map":{"version":3,"names":["useState","useSelector","useDispatch","setCurrentUser","selectCurrentUser","Modal","ModalHeader","ModalBody","FormGroup","Label","Button","Formik","Field","Form","ErrorMessage","defaultAvatar","validateUserLoginForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserLoginForm","loginModalOpen","setLoginModalOpen","currentUser","dispatch","handleLogin","values","newUser","id","Date","now","avatar","username","password","children","className","style","width","height","src","alt","outline","onClick","color","border","isOpen","toggle","initialValues","validate","onSubmit","_ref","isSubmitting","isValid","htmlFor","name","placeholder","msg","type","disabled"],"sources":["/Users/marty/Desktop/projects-site/site/src/features/user/UserLoginForm.js"],"sourcesContent":["// src/features/user/UserLoginForm.js\nimport { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setCurrentUser, selectCurrentUser } from './userSlice';\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  FormGroup,\n  Label,\n  Button\n} from 'reactstrap';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport defaultAvatar from '../../app/assets/img/unicorn.png';\nimport { validateUserLoginForm } from '../../utils/validateUserLoginForm';\n\n\nconst UserLoginForm = () => {\n  const [loginModalOpen, setLoginModalOpen] = useState(false);\n  const currentUser = useSelector(selectCurrentUser);\n  const dispatch = useDispatch();\n\n  const handleLogin = (values) => {\n    const newUser = {\n      id: Date.now(),\n      avatar: defaultAvatar,\n      username: values.username,\n      password: values.password\n    };\n\n    dispatch(setCurrentUser(newUser));\n    setLoginModalOpen(false);\n  };\n\n  return (\n    <>\n      <span className=\"navbar-text ml-auto\">\n        {currentUser ? (\n          <div style={{ width: '4rem', height: '4rem' }}>\n            <img\n              src={currentUser.avatar}\n              alt=\"user\"\n              style={{ width: '100%', height: '100%' }}\n            />\n          </div>\n        ) : (\n          <Button\n            outline\n            onClick={() => setLoginModalOpen(true)}\n            style={{ color: 'white', border: '1px solid white' }}\n          >\n            <i className=\"fa fa-sign-in fa-lg\" /> Login\n          </Button>\n        )}\n      </span>\n\n      <Modal isOpen={loginModalOpen}>\n        <ModalHeader toggle={() => setLoginModalOpen(false)}>\n          Login\n        </ModalHeader>\n        <ModalBody>\n          <Formik\n            initialValues={{ username: '', password: '' }}\n            validate={validateUserLoginForm}\n            onSubmit={handleLogin}\n          >\n            {({ isSubmitting, isValid }) => (\n              <Form>\n                <FormGroup>\n                    <Label htmlFor=\"username\">Username</Label>\n                    <Field\n                        id=\"username\"\n                        name=\"username\"\n                        placeholder=\"Username\"\n                        className=\"form-control\"\n                    />\n                    <ErrorMessage name=\"username\">\n                        {msg => <p className=\"text-danger\">{msg}</p>}\n                    </ErrorMessage>\n                </FormGroup>\n\n                <FormGroup>\n                <Label htmlFor=\"password\">Password</Label>\n                <Field\n                    id=\"password\"\n                    name=\"password\"\n                    placeholder=\"Password\"\n                    className=\"form-control\"\n                />\n                <ErrorMessage name=\"password\">\n                    {msg => <p className=\"text-danger\">{msg}</p>}\n                </ErrorMessage>\n                </FormGroup>\n\n                <Button\n                    type=\"submit\"\n                    color=\"primary\"\n                    disabled={isSubmitting || !isValid}\n                    >\n                    Login\n                </Button>\n\n              </Form>\n            )}\n          </Formik>\n        </ModalBody>\n      </Modal>\n    </>\n  );\n};\n\n\nexport default UserLoginForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}