{"ast":null,"code":"import{useState}from\"react\";import{Button,Modal,ModalBody,ModalHeader,FormGroup,Label}from\"reactstrap\";import{Formik,Field,Form,ErrorMessage}from\"formik\";import{validateCommentForm}from\"../../utils/validateCommentForm\";import{useDispatch}from\"react-redux\";import{addComment}from\"./commentsSlice\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CommentForm=_ref=>{let{projectId}=_ref;// const {image, name, id} = projectId;\nconst[modalOpen,setModalOpen]=useState(false);const dispatch=useDispatch();const handleSubmit=values=>{const comment={id:values.id,projectId:parseInt(projectId),rating:parseInt(values.rating),text:values.commentText,author:values.author,date:new Date(Date.now()).toISOString()};console.log(comment);dispatch(addComment(comment));setModalOpen(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Button,{outline:true,onClick:()=>setModalOpen(true),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-pencil fa-lg\"}),\" Add Comment\"]}),/*#__PURE__*/_jsxs(Modal,{isOpen:modalOpen,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:()=>setModalOpen(false),children:\"Add Comment\"}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsx(Formik,{initialValues:{rating:undefined,author:'',commentText:''},onSubmit:handleSubmit,validate:validateCommentForm,children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"rating\",children:\"Rating\"}),/*#__PURE__*/_jsxs(Field,{name:\"rating\",as:\"select\",className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select...\"}),/*#__PURE__*/_jsx(\"option\",{children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{children:\"5\"})]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"rating\",children:msg=>/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:msg})})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"author\",children:\"Your Name\"}),/*#__PURE__*/_jsx(Field,{name:\"author\",placeholder:\"Your Name\",className:\"form-control\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"author\",children:msg=>/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:msg})})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"commentText\",children:\"Comment\"}),/*#__PURE__*/_jsx(Field,{name:\"commentText\",as:\"textarea\",rows:\"12\",className:\"form-control\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",children:\"Submit\"})]})})})]})]});};export default CommentForm;","map":{"version":3,"names":["useState","Button","Modal","ModalBody","ModalHeader","FormGroup","Label","Formik","Field","Form","ErrorMessage","validateCommentForm","useDispatch","addComment","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CommentForm","_ref","projectId","modalOpen","setModalOpen","dispatch","handleSubmit","values","comment","id","parseInt","rating","text","commentText","author","date","Date","now","toISOString","console","log","children","outline","onClick","className","isOpen","toggle","initialValues","undefined","onSubmit","validate","htmlFor","name","as","msg","placeholder","rows","type","color"],"sources":["/Users/marty/Desktop/projects-site/site/src/features/comments/CommentForm.js"],"sourcesContent":["import { useState } from \"react\";\nimport { Button, Modal, ModalBody, ModalHeader, FormGroup, Label } from \"reactstrap\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport { validateCommentForm } from \"../../utils/validateCommentForm\";\nimport { useDispatch } from \"react-redux\";\nimport { addComment } from \"./commentsSlice\";\n\n\nconst CommentForm = ({projectId}) => {\n    \n    // const {image, name, id} = projectId;\n    const [modalOpen, setModalOpen] = useState(false); \n    const dispatch = useDispatch();\n\n\n    const handleSubmit = (values) => {\n        const comment = \n        {\n            id: values.id,\n            projectId: parseInt(projectId),\n            rating: parseInt(values.rating),\n            text: values.commentText,\n            author: values.author,\n            date: new Date(Date.now()).toISOString()\n        };\n\n        console.log(comment);\n        dispatch(addComment(comment));\n        setModalOpen(false);\n    }\n\n\n    return (\n        <>\n            <Button outline onClick={() => setModalOpen(true)}>\n                <i className='fa fa-pencil fa-lg' /> Add Comment\n            </Button>\n\n            <Modal isOpen={modalOpen}>\n                <ModalHeader toggle={() => setModalOpen(false)}>Add Comment</ModalHeader>\n                {/* <ModalBody>project: {projectId}</ModalBody> */}\n                <ModalBody>\n                    <Formik initialValues={{rating: undefined, author: '', commentText: ''}}\n                     onSubmit={handleSubmit} \n                     validate={validateCommentForm} \n                    >\n                        <Form>\n                            <FormGroup>\n                                <Label htmlFor='rating'>Rating</Label><Field\n                                    name='rating'\n                                    as='select'\n                                    className='form-control'\n                                >\n                                    <option>Select...</option>\n                                    <option>1</option>\n                                    <option>2</option>\n                                    <option>3</option>\n                                    <option>4</option>\n                                    <option>5</option>\n                                </Field>\n                                <ErrorMessage name='rating'>{(msg) => <p className='text-danger'>{msg}</p>}</ErrorMessage>\n                            </FormGroup>\n\n                            <FormGroup>\n                                <Label htmlFor='author'>Your Name</Label>\n                                <Field\n                                        name='author'\n                                        placeholder='Your Name'\n                                        className='form-control'\n                                    />\n                                <ErrorMessage name='author'>{(msg) => <p className='text-danger'>{msg}</p>}</ErrorMessage>\n                            </FormGroup>\n                            <FormGroup>\n                                <Label htmlFor='commentText'>Comment</Label>\n                                <Field\n                                    name='commentText'\n                                    as='textarea'\n                                    rows='12'\n                                    className='form-control'\n                                />\n                            </FormGroup>\n                            <Button type='submit' color='primary'>\n                                Submit\n                            </Button>\n                        </Form>\n                    </Formik>\n                </ModalBody>\n            </Modal>\n        </>\n    );\n};\n\nexport default CommentForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}